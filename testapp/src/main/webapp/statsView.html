<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>My Grocery List</title>
<script type="text/javascript" src="./js/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="./js/jquery.storage.js"></script>
<script type="text/javascript" src="./css/js/bootstrap.min.js"></script>

<script type="text/javascript" src="./js/flotr2.min.js"></script>
<link href="./css/css/bootstrap.min.css" rel="stylesheet">

<script type="text/javascript">
$(document).ready(function(){
	var key = 'items';
	var nkey = 'native';
	var country = $.localStorage(nkey);
	//get all items in localStore
	var items = $.localStorage(key);
	var f=0,n=0,u=0;
	$.each(items, function(index, i) {
	   var detail = $.localStorage(i.itemName);
		if(detail.country == 'Unknown'){
			u++;
		}else if(detail.country == country){
			n++;		
		}else{
			f++;
		}		
	});	
	console.log('Unknown-'+u+' Native-'+n+'Foregin-'+f);
	
	
	(function basic_pie(container) {

		  var
		    d1 = [[0, u]],
		    d2 = [[0, n]],
		    d3 = [[0, f]],
		    graph;
		  
		  graph = Flotr.draw(container, [
		    { data : d1, label : 'Unknown' },
		    { data : d2, label : 'Native' },
		    { data : d3, label : 'Foreign' },
		    ], {
		    HtmlText : false,
		    grid : {
		      verticalLines : false,
		      horizontalLines : false
		    },
		    xaxis : { showLabels : false },
		    yaxis : { showLabels : false },
		    pie : {
		      show : true, 
		      explode : 6
		    },
		    mouse : { track : true },
		    legend : {
		      position : 'se',
		      backgroundColor : '#D2E8FF'
		    }
		  });
		})(document.getElementById("editor-render-0"));
	
});


</script>
</head>
<body>
<!-- menubar starts -->
<nav class="navbar navbar-inverse">
	<div class="container-fluid">
	<!-- Logo -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mainNavbar">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			
			</button>
			<a id="title" href="#" class="navbar-brand">Grocery Manager</a>
		</div>
		<!-- menu -->
		<div class="collapse navbar-collapse" id="mainNavbar">
			<ul class="nav navbar-nav">
				<li><a href="./index.html"><span class="glyphicon glyphicon-home"></span> Home</a></li>
				<li id="catView"><a href="./catView.html"><i class="glyphicon glyphicon-tasks gly-spin" aria-hidden="true"></i> Category View</a></li>
				<li id="stats"><a href="./statsView.html"><i class="glyphicon glyphicon-picture gly-spin" aria-hidden="true"></i> Statistics View</a></li>
				<li id="set"><a href="./settingsView.html"><i class="glyphicon glyphicon-asterisk gly-spin" aria-hidden="true"></i> Settings</a></li>
			</ul>
		</div>
	</div>
</nav>  
<!-- menubar ends -->
	<div class="container">
		<div id="editor-render-0" style="width: inherit; height: 300px;"></div>
	</div><!-- container -->
	
</body>
</html>